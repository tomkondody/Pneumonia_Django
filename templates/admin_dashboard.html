{% load static %}
<link rel="stylesheet" href="{% static 'style.css' %}">

<div class="container">

    <h2>ðŸ›  Admin Dashboard</h2>

    <div class="panel">
        <h3>ðŸ“‚ ML System</h3>
        <a href="{% url 'admin_predictions' %}">â–¶ View Prediction Records</a>
    </div>

    <div class="panel">
        <h3>ðŸ‘¥ Pending User Approvals</h3>

        <table>
            <tr>
                <th>Username</th>
                <th>Approve</th>
            </tr>

            {% for u in pending %}
            <tr>
                <td>{{ u.username }}</td>
                <td>
                    <a href="{% url 'toggle_user' u.id %}">
                        Approve
                    </a>
                </td>
            </tr>
            {% empty %}
            <tr><td colspan="2">No pending users</td></tr>
            {% endfor %}
        </table>
    </div>

    <div class="panel">
        <h3>ðŸ‘¤ Approved Users</h3>

        <table>
            <tr>
                <th>Username</th>
                <th>Status</th>
                <th>Actions</th>
            </tr>

            {% for u in approved %}
            <tr>
                <td>{{ u.username }}</td>
                <td>Active</td>
                <td>
                    <a href="{% url 'toggle_user' u.id %}">
                        Disable
                    </a> |
                    <a href="{% url 'delete_user' u.id %}" style="color:#b20000;">
                        Delete
                    </a>
                </td>
            </tr>
            {% endfor %}
        </table>
    </div>

    <div class="footer-links">
        <a href="{% url 'home' %}">Home</a>
        <a href="{% url 'logout' %}" style="color:#b20000;">Logout</a>
    </div>

</div>
